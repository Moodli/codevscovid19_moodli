{
    "apps": [
        {
            "name": "moodliBackend",
            "script": "app.js"
        }
    ],
    "deploy": {
        // "production" is the environment name
        "production": {
            "user": "ubuntu",
            "host": [
                "35.181.0.148"
            ],
            "ref": "origin/master",
            "repo": "https://github.com/Moodli/codevscovid19_moodli_backend.git",
            "path": "/var/www/moodli",
            "key": "./knctDev1.pem",
            "pre-setup": "rm -rf /var/www/moodli",
            // "post-setup": "cd nodeModuleconfig && ./nodeCus.sh",
            "post-deploy": "npm install && pm2 startOrRestart ecosystem.config.js --env production && cd nodeModuleconfig && ./nodeCus.sh"
        },
        "development": {
            "user": "ubuntu",
            "host": [
                "35.181.0.148"
            ],
            "ref": "origin/master",
            "repo": "https://github.com/Moodli/codevscovid19_moodli_backend.git",
            "path": "/var/www/moodli",
            "key": "./knctDev1.pem",
            "pre-setup": "rm -rf /var/www/moodli",
            // "post-setup": "cd nodeModuleconfig && ./nodeCus.sh",
            "post-deploy": "npm install && pm2 startOrRestart ecosystem.config.js --env production && cd nodeModuleconfig && chmod +x nodeCus.sh && ./nodeCus.sh"
        }
    }
}